#!/usr/bin/env python3
"""
駅の路線情報を補完する軽量版スクリプト（手動定義データのみ使用）
"""
import sys
import csv
from pathlib import Path

# プロジェクトルートを追加
sys.path.append(str(Path(__file__).parent.parent.parent))

# 主要駅の路線情報（手動定義）
STATION_LINES = {
    '東京': 'JR山手線、JR京浜東北線、JR東海道線、JR中央線、東京メトロ丸ノ内線',
    '新宿': 'JR山手線、JR中央線、JR埼京線、JR湘南新宿ライン、小田急線、京王線、東京メトロ丸ノ内線、東京メトロ副都心線、都営新宿線、都営大江戸線',
    '渋谷': 'JR山手線、JR埼京線、JR湘南新宿ライン、東京メトロ銀座線、東京メトロ半蔵門線、東京メトロ副都心線、東急東横線、東急田園都市線、京王井の頭線',
    '池袋': 'JR山手線、JR埼京線、JR湘南新宿ライン、東武東上線、西武池袋線、東京メトロ丸ノ内線、東京メトロ有楽町線、東京メトロ副都心線',
    '上野': 'JR山手線、JR京浜東北線、JR常磐線、JR宇都宮線、JR高崎線、東京メトロ銀座線、東京メトロ日比谷線',
    '品川': 'JR山手線、JR京浜東北線、JR東海道線、京急本線',
    '亀有': 'JR常磐線',
    '北千住': 'JR常磐線、東京メトロ千代田線、東京メトロ日比谷線、東武伊勢崎線、つくばエクスプレス',
    '錦糸町': 'JR総武線、東京メトロ半蔵門線',
    '新橋': 'JR山手線、JR京浜東北線、JR東海道線、東京メトロ銀座線、都営浅草線',
    '浅草': '東京メトロ銀座線、都営浅草線、東武伊勢崎線、つくばエクスプレス',
    '大手町': '東京メトロ丸ノ内線、東京メトロ東西線、東京メトロ千代田線、東京メトロ半蔵門線、都営三田線',
    '秋葉原': 'JR山手線、JR京浜東北線、JR総武線、東京メトロ日比谷線、つくばエクスプレス',
    '赤羽': 'JR京浜東北線、JR埼京線、JR宇都宮線、JR高崎線、JR湘南新宿ライン',
    '蒲田': 'JR京浜東北線、東急池上線、東急多摩川線',
    '中野': 'JR中央線、東京メトロ東西線',
    '荻窪': 'JR中央線、東京メトロ丸ノ内線',
    '練馬': '西武池袋線、西武豊島線、都営大江戸線',
    '板橋': 'JR埼京線',
    '西新井': '東武伊勢崎線、東武大師線',
    '葛西': '東京メトロ東西線',
    '門前仲町': '東京メトロ東西線、都営大江戸線',
    '豊洲': '東京メトロ有楽町線、ゆりかもめ',
    '六本木': '東京メトロ日比谷線、都営大江戸線',
    '飯田橋': 'JR中央線、JR総武線、東京メトロ東西線、東京メトロ有楽町線、東京メトロ南北線、都営大江戸線',
    '市ヶ谷': 'JR中央線、東京メトロ有楽町線、東京メトロ南北線、都営新宿線',
    '四ツ谷': 'JR中央線、東京メトロ丸ノ内線、東京メトロ南北線',
    '永田町': '東京メトロ有楽町線、東京メトロ半蔵門線、東京メトロ南北線',
    '大崎': 'JR山手線、JR埼京線、JR湘南新宿ライン、りんかい線',
    '目黒': 'JR山手線、東京メトロ南北線、都営三田線、東急目黒線',
    '恵比寿': 'JR山手線、JR埼京線、JR湘南新宿ライン、東京メトロ日比谷線',
    '中目黒': '東京メトロ日比谷線、東急東横線',
    '自由が丘': '東急東横線、東急大井町線',
    '二子玉川': '東急田園都市線、東急大井町線',
    '下北沢': '小田急線、京王井の頭線',
    '三軒茶屋': '東急田園都市線、東急世田谷線',
    '高田馬場': 'JR山手線、東京メトロ東西線、西武新宿線',
    '巣鴨': 'JR山手線、都営三田線',
    '駒込': 'JR山手線、東京メトロ南北線',
    '日暮里': 'JR山手線、JR京浜東北線、JR常磐線、京成本線、日暮里・舎人ライナー',
    '西日暮里': 'JR山手線、JR京浜東北線、東京メトロ千代田線、日暮里・舎人ライナー',
    '田端': 'JR山手線、JR京浜東北線',
    '王子': 'JR京浜東北線、東京メトロ南北線、都電荒川線',
    '十条': 'JR埼京線',
    '綾瀬': 'JR常磐線、東京メトロ千代田線',
    '金町': 'JR常磐線、京成金町線',
    '新小岩': 'JR総武線',
    '小岩': 'JR総武線',
    '平井': 'JR総武線',
    '両国': 'JR総武線、都営大江戸線',
    '亀戸': 'JR総武線、東武亀戸線',
    '新木場': 'JR京葉線、東京メトロ有楽町線、りんかい線',
    '羽田空港第１・第２ターミナル': '京急空港線、東京モノレール',
    '浜松町': 'JR山手線、JR京浜東北線、東京モノレール',
    '田町': 'JR山手線、JR京浜東北線',
    '大井町': 'JR京浜東北線、東急大井町線、りんかい線',
    '大森': 'JR京浜東北線',
    '押上': '東京メトロ半蔵門線、都営浅草線、京成押上線、東武伊勢崎線',
    '押上(スカイツリー前)': '東京メトロ半蔵門線、都営浅草線、京成押上線、東武伊勢崎線',
    '神田': 'JR山手線、JR京浜東北線、JR中央線、東京メトロ銀座線',
    '有楽町': 'JR山手線、JR京浜東北線、東京メトロ有楽町線',
    '御茶ノ水': 'JR中央線、JR総武線、東京メトロ丸ノ内線、東京メトロ千代田線',
    '水道橋': 'JR中央線、JR総武線、都営三田線',
    '後楽園': '東京メトロ丸ノ内線、東京メトロ南北線',
    '原宿': 'JR山手線、東京メトロ千代田線、東京メトロ副都心線',
    '代々木': 'JR山手線、JR中央線、JR総武線、都営大江戸線',
    '新大久保': 'JR山手線',
    '高円寺': 'JR中央線',
    '阿佐ヶ谷': 'JR中央線',
    '西荻窪': 'JR中央線',
    '吉祥寺': 'JR中央線、京王井の頭線',
    '三鷹': 'JR中央線',
    '国分寺': 'JR中央線、西武国分寺線、西武多摩湖線',
    '立川': 'JR中央線、JR南武線、JR青梅線、多摩モノレール',
    '八王子': 'JR中央線、JR横浜線、JR八高線、京王線',
    '町田': 'JR横浜線、小田急線',
    '橋本': 'JR横浜線、JR相模線、京王相模原線',
    '相模原': 'JR横浜線',
    '淵野辺': 'JR横浜線',
    '古淵': 'JR横浜線',
    '長津田': 'JR横浜線、東急田園都市線、東急こどもの国線',
    '十日市場': 'JR横浜線',
    '中山': 'JR横浜線、横浜市営地下鉄グリーンライン',
    '鴨居': 'JR横浜線',
    '小机': 'JR横浜線',
    '新横浜': 'JR横浜線、横浜市営地下鉄ブルーライン、東海道新幹線',
    '菊名': 'JR横浜線、東急東横線',
    '大倉山': '東急東横線',
    '綱島': '東急東横線',
    '日吉': '東急東横線、東急目黒線、横浜市営地下鉄グリーンライン',
    '元住吉': '東急東横線、東急目黒線',
    '武蔵小杉': 'JR南武線、JR横須賀線、JR湘南新宿ライン、東急東横線、東急目黒線',
    '新丸子': '東急東横線、東急目黒線',
    '多摩川': '東急東横線、東急目黒線、東急多摩川線',
    '田園調布': '東急東横線、東急目黒線',
    '大岡山': '東急目黒線、東急大井町線',
    '洗足': '東急目黒線',
    '西小山': '東急目黒線',
    '武蔵小山': '東急目黒線',
    '不動前': '東急目黒線',
    '白金台': '東京メトロ南北線、都営三田線',
    '白金高輪': '東京メトロ南北線、都営三田線',
    '麻布十番': '東京メトロ南北線、都営大江戸線',
    '六本木一丁目': '東京メトロ南北線',
    '溜池山王': '東京メトロ銀座線、東京メトロ南北線',
    '赤坂見附': '東京メトロ銀座線、東京メトロ丸ノ内線',
    '青山一丁目': '東京メトロ銀座線、東京メトロ半蔵門線、都営大江戸線',
    '外苑前': '東京メトロ銀座線',
    '表参道': '東京メトロ銀座線、東京メトロ千代田線、東京メトロ半蔵門線',
    '渋谷': 'JR山手線、JR埼京線、JR湘南新宿ライン、東京メトロ銀座線、東京メトロ半蔵門線、東京メトロ副都心線、東急東横線、東急田園都市線、京王井の頭線',
    '銀座': '東京メトロ銀座線、東京メトロ丸ノ内線、東京メトロ日比谷線',
    '京橋': '東京メトロ銀座線',
    '日本橋': '東京メトロ銀座線、東京メトロ東西線、都営浅草線',
    '三越前': '東京メトロ銀座線、東京メトロ半蔵門線',
    '神田': 'JR山手線、JR京浜東北線、JR中央線、東京メトロ銀座線',
    '末広町': '東京メトロ銀座線',
    '上野広小路': '東京メトロ銀座線',
    '上野': 'JR山手線、JR京浜東北線、JR常磐線、JR宇都宮線、JR高崎線、東京メトロ銀座線、東京メトロ日比谷線',
    '稲荷町': '東京メトロ銀座線',
    '田原町': '東京メトロ銀座線',
    '浅草': '東京メトロ銀座線、都営浅草線、東武伊勢崎線、つくばエクスプレス',
    '築地市場': '都営大江戸線',
    '汐留': '都営大江戸線、ゆりかもめ',
    '月島': '東京メトロ有楽町線、都営大江戸線',
    '勝どき': '都営大江戸線',
    '清澄白河': '東京メトロ半蔵門線、都営大江戸線',
    '森下': '東京メトロ半蔵門線、都営新宿線',
    '両国': 'JR総武線、都営大江戸線',
    '蔵前': '都営浅草線、都営大江戸線',
    '新御徒町': 'つくばエクスプレス、都営大江戸線',
    '春日': '東京メトロ丸ノ内線、東京メトロ南北線、都営三田線、都営大江戸線',
    '本郷三丁目': '東京メトロ丸ノ内線、都営大江戸線',
    '東大前': '東京メトロ南北線',
    '根津': '東京メトロ千代田線',
    '千駄木': '東京メトロ千代田線',
    '西日暮里': 'JR山手線、JR京浜東北線、東京メトロ千代田線、日暮里・舎人ライナー',
    '町屋': '東京メトロ千代田線、京成本線、都電荒川線',
    '北千住': 'JR常磐線、東京メトロ千代田線、東京メトロ日比谷線、東武伊勢崎線、つくばエクスプレス',
    '綾瀬': 'JR常磐線、東京メトロ千代田線',
    '亀有': 'JR常磐線',
    '金町': 'JR常磐線、京成金町線',
    '松戸': 'JR常磐線、新京成線',
    '柏': 'JR常磐線、東武野田線',
    '我孫子': 'JR常磐線、JR成田線',
    '天王台': 'JR常磐線',
    '取手': 'JR常磐線、関東鉄道常総線',
    '藤代': 'JR常磐線',
    '佐貫': 'JR常磐線、関東鉄道竜ヶ崎線',
    '牛久': 'JR常磐線',
    'ひたち野うしく': 'JR常磐線',
    '荒川沖': 'JR常磐線',
    '土浦': 'JR常磐線',
    '神立': 'JR常磐線',
    '高浜': 'JR常磐線',
    '石岡': 'JR常磐線',
    '羽鳥': 'JR常磐線',
    '岩間': 'JR常磐線',
    '友部': 'JR常磐線、JR水戸線',
    '内原': 'JR常磐線',
    '赤塚': 'JR常磐線',
    '水戸': 'JR常磐線、JR水郡線、鹿島臨海鉄道大洗鹿島線',
    '勝田': 'JR常磐線、ひたちなか海浜鉄道湊線',
    '佐和': 'JR常磐線',
    '東海': 'JR常磐線',
    '大甕': 'JR常磐線',
    '常陸多賀': 'JR常磐線',
    '日立': 'JR常磐線',
    '小木津': 'JR常磐線',
    '十王': 'JR常磐線',
    '高萩': 'JR常磐線',
    '南中郷': 'JR常磐線',
    '磯原': 'JR常磐線',
    '大津港': 'JR常磐線',
    '勿来': 'JR常磐線',
    '植田': 'JR常磐線',
    '泉': 'JR常磐線',
    '湯本': 'JR常磐線',
    'いわき': 'JR常磐線、JR磐越東線',
    '草野': 'JR常磐線',
    '四ツ倉': 'JR常磐線',
    '久ノ浜': 'JR常磐線',
    '末続': 'JR常磐線',
    '広野': 'JR常磐線',
    '木戸': 'JR常磐線',
    '竜田': 'JR常磐線',
    '富岡': 'JR常磐線',
    '夜ノ森': 'JR常磐線',
    '大野': 'JR常磐線',
    '双葉': 'JR常磐線',
    '浪江': 'JR常磐線',
    '桃内': 'JR常磐線',
    '小高': 'JR常磐線',
    '磐城太田': 'JR常磐線',
    '原ノ町': 'JR常磐線',
    '鹿島': 'JR常磐線',
    '日立木': 'JR常磐線',
    '相馬': 'JR常磐線',
    '駒ヶ嶺': 'JR常磐線',
    '新地': 'JR常磐線',
    '坂元': 'JR常磐線',
    '山下': 'JR常磐線',
    '浜吉田': 'JR常磐線',
    '亘理': 'JR常磐線',
    '逢隈': 'JR常磐線',
    '岩沼': 'JR常磐線、JR東北本線',
    '館腰': 'JR東北本線',
    '名取': 'JR東北本線、仙台空港鉄道仙台空港線',
    '南仙台': 'JR東北本線',
    '太子堂': 'JR東北本線',
    '長町': 'JR東北本線、仙台市地下鉄南北線',
    '仙台': 'JR東北本線、JR東北新幹線、JR仙山線、JR仙石線、仙台市地下鉄南北線、仙台市地下鉄東西線',
    # 副都心線、有楽町線、東西線の主要駅
    '和光市': '東京メトロ有楽町線、東京メトロ副都心線、東武東上線',
    '地下鉄成増': '東京メトロ有楽町線、東京メトロ副都心線',
    '地下鉄赤塚': '東京メトロ有楽町線、東京メトロ副都心線',
    '平和台': '東京メトロ有楽町線、東京メトロ副都心線',
    '氷川台': '東京メトロ有楽町線、東京メトロ副都心線',
    '小竹向原': '東京メトロ有楽町線、東京メトロ副都心線、西武有楽町線',
    '千川': '東京メトロ有楽町線、東京メトロ副都心線',
    '要町': '東京メトロ有楽町線、東京メトロ副都心線',
    '池袋': 'JR山手線、JR埼京線、JR湘南新宿ライン、東武東上線、西武池袋線、東京メトロ丸ノ内線、東京メトロ有楽町線、東京メトロ副都心線',
    '東池袋': '東京メトロ有楽町線',
    '護国寺': '東京メトロ有楽町線',
    '江戸川橋': '東京メトロ有楽町線',
    '飯田橋': 'JR中央線、JR総武線、東京メトロ東西線、東京メトロ有楽町線、東京メトロ南北線、都営大江戸線',
    '市ヶ谷': 'JR中央線、東京メトロ有楽町線、東京メトロ南北線、都営新宿線',
    '麹町': '東京メトロ有楽町線',
    '永田町': '東京メトロ有楽町線、東京メトロ半蔵門線、東京メトロ南北線',
    '桜田門': '東京メトロ有楽町線',
    '有楽町': 'JR山手線、JR京浜東北線、東京メトロ有楽町線',
    '銀座一丁目': '東京メトロ有楽町線',
    '新富町': '東京メトロ有楽町線',
    '月島': '東京メトロ有楽町線、都営大江戸線',
    '豊洲': '東京メトロ有楽町線、ゆりかもめ',
    '辰巳': '東京メトロ有楽町線',
    '新木場': 'JR京葉線、東京メトロ有楽町線、りんかい線',
    # 東西線の主要駅
    '中野': 'JR中央線、東京メトロ東西線',
    '落合': '東京メトロ東西線',
    '高田馬場': 'JR山手線、東京メトロ東西線、西武新宿線',
    '早稲田': '東京メトロ東西線',
    '神楽坂': '東京メトロ東西線',
    '飯田橋': 'JR中央線、JR総武線、東京メトロ東西線、東京メトロ有楽町線、東京メトロ南北線、都営大江戸線',
    '九段下': '東京メトロ東西線、東京メトロ半蔵門線、都営新宿線',
    '竹橋': '東京メトロ東西線',
    '大手町': '東京メトロ丸ノ内線、東京メトロ東西線、東京メトロ千代田線、東京メトロ半蔵門線、都営三田線',
    '日本橋': '東京メトロ銀座線、東京メトロ東西線、都営浅草線',
    '茅場町': '東京メトロ東西線、東京メトロ日比谷線',
    '門前仲町': '東京メトロ東西線、都営大江戸線',
    '木場': '東京メトロ東西線',
    '東陽町': '東京メトロ東西線',
    '南砂町': '東京メトロ東西線',
    '西葛西': '東京メトロ東西線',
    '葛西': '東京メトロ東西線',
    '浦安': '東京メトロ東西線',
    '南行徳': '東京メトロ東西線',
    '行徳': '東京メトロ東西線',
    '妙典': '東京メトロ東西線',
    '原木中山': '東京メトロ東西線',
    '西船橋': 'JR総武線、JR武蔵野線、JR京葉線、東京メトロ東西線、東葉高速線',
    # 都営三田線の主要駅
    '目黒': 'JR山手線、東京メトロ南北線、都営三田線、東急目黒線',
    '白金台': '東京メトロ南北線、都営三田線',
    '白金高輪': '東京メトロ南北線、都営三田線',
    '三田': '都営浅草線、都営三田線',
    '芝公園': '都営三田線',
    '御成門': '都営三田線',
    '内幸町': '都営三田線',
    '日比谷': '東京メトロ千代田線、東京メトロ日比谷線、都営三田線',
    '大手町': '東京メトロ丸ノ内線、東京メトロ東西線、東京メトロ千代田線、東京メトロ半蔵門線、都営三田線',
    '神保町': '東京メトロ半蔵門線、都営三田線、都営新宿線',
    '水道橋': 'JR中央線、JR総武線、都営三田線',
    '春日': '東京メトロ丸ノ内線、東京メトロ南北線、都営三田線、都営大江戸線',
    '白山': '都営三田線',
    '千石': '都営三田線',
    '巣鴨': 'JR山手線、都営三田線',
    '西巣鴨': '都営三田線',
    '新板橋': '都営三田線',
    '板橋区役所前': '都営三田線',
    '板橋本町': '都営三田線',
    '本蓮沼': '都営三田線',
    '志村坂上': '都営三田線',
    '志村三丁目': '都営三田線',
    '蓮根': '都営三田線',
    '西台': '都営三田線',
    '高島平': '都営三田線',
    '新高島平': '都営三田線',
    '西高島平': '都営三田線',
    # 都営新宿線の主要駅
    '新宿': 'JR山手線、JR中央線、JR埼京線、JR湘南新宿ライン、小田急線、京王線、東京メトロ丸ノ内線、東京メトロ副都心線、都営新宿線、都営大江戸線',
    '新宿三丁目': '東京メトロ丸ノ内線、東京メトロ副都心線、都営新宿線',
    '曙橋': '都営新宿線',
    '市ヶ谷': 'JR中央線、東京メトロ有楽町線、東京メトロ南北線、都営新宿線',
    '九段下': '東京メトロ東西線、東京メトロ半蔵門線、都営新宿線',
    '神保町': '東京メトロ半蔵門線、都営三田線、都営新宿線',
    '小川町': '都営新宿線',
    '岩本町': '都営新宿線',
    '馬喰横山': '都営新宿線',
    '浜町': '都営新宿線',
    '森下': '東京メトロ半蔵門線、都営新宿線',
    '菊川': '都営新宿線',
    '住吉': '東京メトロ半蔵門線、都営新宿線',
    '西大島': '都営新宿線',
    '大島': '都営新宿線',
    '東大島': '都営新宿線',
    '船堀': '都営新宿線',
    '一之江': '都営新宿線',
    '瑞江': '都営新宿線',
    '篠崎': '都営新宿線',
    '本八幡': 'JR総武線、都営新宿線、京成本線',
    # 都営浅草線の主要駅
    '西馬込': '都営浅草線',
    '馬込': '都営浅草線',
    '中延': '都営浅草線、東急大井町線',
    '戸越': '都営浅草線',
    '五反田': 'JR山手線、都営浅草線、東急池上線',
    '高輪台': '都営浅草線',
    '泉岳寺': '都営浅草線、京急本線',
    '三田': '都営浅草線、都営三田線',
    '大門': '都営浅草線、都営大江戸線',
    '新橋': 'JR山手線、JR京浜東北線、JR東海道線、東京メトロ銀座線、都営浅草線',
    '東銀座': '東京メトロ日比谷線、都営浅草線',
    '宝町': '都営浅草線',
    '日本橋': '東京メトロ銀座線、東京メトロ東西線、都営浅草線',
    '人形町': '東京メトロ日比谷線、都営浅草線',
    '東日本橋': '都営浅草線',
    '浅草橋': 'JR総武線、都営浅草線',
    '蔵前': '都営浅草線、都営大江戸線',
    '浅草': '東京メトロ銀座線、都営浅草線、東武伊勢崎線、つくばエクスプレス',
    '本所吾妻橋': '都営浅草線',
    '押上': '東京メトロ半蔵門線、都営浅草線、京成押上線、東武伊勢崎線',
    # 京王線の主要駅
    '新宿': 'JR山手線、JR中央線、JR埼京線、JR湘南新宿ライン、小田急線、京王線、東京メトロ丸ノ内線、東京メトロ副都心線、都営新宿線、都営大江戸線',
    '初台': '京王新線',
    '幡ヶ谷': '京王新線',
    '笹塚': '京王線、京王新線',
    '代田橋': '京王線',
    '明大前': '京王線、京王井の頭線',
    '下高井戸': '京王線、東急世田谷線',
    '桜上水': '京王線',
    '上北沢': '京王線',
    '八幡山': '京王線',
    '芦花公園': '京王線',
    '千歳烏山': '京王線',
    '仙川': '京王線',
    'つつじヶ丘': '京王線',
    '柴崎': '京王線',
    '国領': '京王線',
    '布田': '京王線',
    '調布': '京王線、京王相模原線',
    '西調布': '京王線',
    '飛田給': '京王線',
    '武蔵野台': '京王線',
    '多磨霊園': '京王線',
    '東府中': '京王線、京王競馬場線',
    '府中': '京王線',
    '分倍河原': 'JR南武線、京王線',
    '中河原': '京王線',
    '聖蹟桜ヶ丘': '京王線',
    '百草園': '京王線',
    '高幡不動': '京王線、京王動物園線、多摩モノレール',
    '南平': '京王線',
    '平山城址公園': '京王線',
    '長沼': '京王線',
    '北野': '京王線、京王高尾線',
    '京王八王子': '京王線',
    # 小田急線の主要駅
    '新宿': 'JR山手線、JR中央線、JR埼京線、JR湘南新宿ライン、小田急線、京王線、東京メトロ丸ノ内線、東京メトロ副都心線、都営新宿線、都営大江戸線',
    '南新宿': '小田急線',
    '参宮橋': '小田急線',
    '代々木八幡': '小田急線',
    '代々木上原': '小田急線、東京メトロ千代田線',
    '東北沢': '小田急線',
    '下北沢': '小田急線、京王井の頭線',
    '世田谷代田': '小田急線',
    '梅ヶ丘': '小田急線',
    '豪徳寺': '小田急線',
    '経堂': '小田急線',
    '千歳船橋': '小田急線',
    '祖師ヶ谷大蔵': '小田急線',
    '成城学園前': '小田急線',
    '喜多見': '小田急線',
    '狛江': '小田急線',
    '和泉多摩川': '小田急線',
    '登戸': 'JR南武線、小田急線',
    '向ヶ丘遊園': '小田急線',
    '生田': '小田急線',
    '読売ランド前': '小田急線',
    '百合ヶ丘': '小田急線',
    '新百合ヶ丘': '小田急線、小田急多摩線',
    '柿生': '小田急線',
    '鶴川': '小田急線',
    '玉川学園前': '小田急線',
    '町田': 'JR横浜線、小田急線',
    # 東急東横線の主要駅
    '渋谷': 'JR山手線、JR埼京線、JR湘南新宿ライン、東京メトロ銀座線、東京メトロ半蔵門線、東京メトロ副都心線、東急東横線、東急田園都市線、京王井の頭線',
    '代官山': '東急東横線',
    '中目黒': '東京メトロ日比谷線、東急東横線',
    '祐天寺': '東急東横線',
    '学芸大学': '東急東横線',
    '都立大学': '東急東横線',
    '自由が丘': '東急東横線、東急大井町線',
    '田園調布': '東急東横線、東急目黒線',
    '多摩川': '東急東横線、東急目黒線、東急多摩川線',
    '新丸子': '東急東横線、東急目黒線',
    '武蔵小杉': 'JR南武線、JR横須賀線、JR湘南新宿ライン、東急東横線、東急目黒線',
    '元住吉': '東急東横線、東急目黒線',
    '日吉': '東急東横線、東急目黒線、横浜市営地下鉄グリーンライン',
    '綱島': '東急東横線',
    '大倉山': '東急東横線',
    '菊名': 'JR横浜線、東急東横線',
    '妙蓮寺': '東急東横線',
    '白楽': '東急東横線',
    '東白楽': '東急東横線',
    '反町': '東急東横線',
    '横浜': 'JR東海道線、JR横須賀線、JR京浜東北線、JR根岸線、JR横浜線、東急東横線、京急本線、相鉄本線、横浜市営地下鉄ブルーライン、みなとみらい線',
    # 東急田園都市線の主要駅
    '渋谷': 'JR山手線、JR埼京線、JR湘南新宿ライン、東京メトロ銀座線、東京メトロ半蔵門線、東京メトロ副都心線、東急東横線、東急田園都市線、京王井の頭線',
    '池尻大橋': '東急田園都市線',
    '三軒茶屋': '東急田園都市線、東急世田谷線',
    '駒沢大学': '東急田園都市線',
    '桜新町': '東急田園都市線',
    '用賀': '東急田園都市線',
    '二子玉川': '東急田園都市線、東急大井町線',
    '二子新地': '東急田園都市線',
    '高津': '東急田園都市線',
    '溝の口': 'JR南武線、東急田園都市線',
    '梶が谷': '東急田園都市線',
    '宮崎台': '東急田園都市線',
    '宮前平': '東急田園都市線',
    'たまプラーザ': '東急田園都市線',
    'あざみ野': '東急田園都市線、横浜市営地下鉄ブルーライン',
    '江田': '東急田園都市線',
    '市が尾': '東急田園都市線',
    '藤が丘': '東急田園都市線',
    '青葉台': '東急田園都市線',
    '田奈': '東急田園都市線',
    '長津田': 'JR横浜線、東急田園都市線、東急こどもの国線',
    'つくし野': '東急田園都市線',
    'すずかけ台': '東急田園都市線',
    '南町田グランベリーパーク': '東急田園都市線',
    'つきみ野': '東急田園都市線',
    '中央林間': '東急田園都市線、小田急江ノ島線',
    # 東武東上線の主要駅
    '池袋': 'JR山手線、JR埼京線、JR湘南新宿ライン、東武東上線、西武池袋線、東京メトロ丸ノ内線、東京メトロ有楽町線、東京メトロ副都心線',
    '北池袋': '東武東上線',
    '下板橋': '東武東上線',
    '大山': '東武東上線',
    '中板橋': '東武東上線',
    'ときわ台': '東武東上線',
    '上板橋': '東武東上線',
    '東武練馬': '東武東上線',
    '下赤塚': '東武東上線',
    '成増': '東武東上線、東京メトロ有楽町線、東京メトロ副都心線',
    '和光市': '東京メトロ有楽町線、東京メトロ副都心線、東武東上線',
    '朝霞': '東武東上線',
    '朝霞台': '東武東上線、JR武蔵野線（北朝霞）',
    '志木': '東武東上線',
    'ふじみ野': '東武東上線',
    '鶴瀬': '東武東上線',
    'みずほ台': '東武東上線',
    '柳瀬川': '東武東上線',
    '上福岡': '東武東上線',
    '新河岸': '東武東上線',
    '川越': 'JR川越線、東武東上線、西武新宿線（本川越）',
    '川越市': '東武東上線',
    '霞ヶ関': '東武東上線',
    '鶴ヶ島': '東武東上線',
    '若葉': '東武東上線',
    '坂戸': '東武東上線、東武越生線',
    '北坂戸': '東武東上線',
    '高坂': '東武東上線',
    '東松山': '東武東上線',
    # 西武池袋線の主要駅
    '池袋': 'JR山手線、JR埼京線、JR湘南新宿ライン、東武東上線、西武池袋線、東京メトロ丸ノ内線、東京メトロ有楽町線、東京メトロ副都心線',
    '椎名町': '西武池袋線',
    '東長崎': '西武池袋線',
    '江古田': '西武池袋線',
    '桜台': '西武池袋線',
    '練馬': '西武池袋線、西武豊島線、都営大江戸線',
    '中村橋': '西武池袋線',
    '富士見台': '西武池袋線',
    '練馬高野台': '西武池袋線',
    '石神井公園': '西武池袋線',
    '大泉学園': '西武池袋線',
    '保谷': '西武池袋線',
    'ひばりヶ丘': '西武池袋線',
    '東久留米': '西武池袋線',
    '清瀬': '西武池袋線',
    '秋津': '西武池袋線、JR武蔵野線（新秋津）',
    '所沢': 'JR武蔵野線、西武池袋線、西武新宿線',
    '西所沢': '西武池袋線、西武狭山線',
    '小手指': '西武池袋線',
    '狭山ヶ丘': '西武池袋線',
    '武蔵藤沢': '西武池袋線',
    '稲荷山公園': '西武池袋線',
    '入間市': '西武池袋線',
    '仏子': '西武池袋線',
    '元加治': '西武池袋線',
    '飯能': '西武池袋線、西武秩父線、JR八高線',
    # 西武新宿線の主要駅
    '西武新宿': '西武新宿線',
    '高田馬場': 'JR山手線、東京メトロ東西線、西武新宿線',
    '下落合': '西武新宿線',
    '中井': '西武新宿線、都営大江戸線',
    '新井薬師前': '西武新宿線',
    '沼袋': '西武新宿線',
    '野方': '西武新宿線',
    '都立家政': '西武新宿線',
    '鷺ノ宮': '西武新宿線',
    '下井草': '西武新宿線',
    '井荻': '西武新宿線',
    '上井草': '西武新宿線',
    '上石神井': '西武新宿線',
    '武蔵関': '西武新宿線',
    '東伏見': '西武新宿線',
    '西武柳沢': '西武新宿線',
    '田無': '西武新宿線',
    '花小金井': '西武新宿線',
    '小平': '西武新宿線、西武拝島線',
    '久米川': '西武新宿線',
    '東村山': '西武新宿線、西武国分寺線、西武西武園線',
    '所沢': 'JR武蔵野線、西武池袋線、西武新宿線',
    '航空公園': '西武新宿線',
    '新所沢': '西武新宿線',
    '入曽': '西武新宿線',
    '狭山市': '西武新宿線',
    '新狭山': '西武新宿線',
    '南大塚': '西武新宿線',
    '本川越': '西武新宿線',
    # 京成本線の主要駅
    '京成上野': '京成本線',
    '日暮里': 'JR山手線、JR京浜東北線、JR常磐線、京成本線、日暮里・舎人ライナー',
    '新三河島': '京成本線',
    '町屋': '東京メトロ千代田線、京成本線、都電荒川線',
    '千住大橋': '京成本線',
    '京成関屋': '京成本線',
    '堀切菖蒲園': '京成本線',
    '四ツ木': '京成本線',
    '京成立石': '京成本線',
    '青砥': '京成本線、京成押上線',
    '京成高砂': '京成本線、京成金町線、北総線',
    '京成小岩': '京成本線',
    '江戸川': '京成本線',
    '国府台': '京成本線',
    '市川真間': '京成本線',
    '菅野': '京成本線',
    '京成八幡': '京成本線',
    '鬼越': '京成本線',
    '京成中山': '京成本線',
    '東中山': '京成本線',
    '京成西船': '京成本線',
    '海神': '京成本線',
    '京成船橋': '京成本線',
    '大神宮下': '京成本線',
    '船橋競馬場': '京成本線',
    '谷津': '京成本線',
    '京成津田沼': '京成本線、京成千葉線',
    '京成大久保': '京成本線',
    '実籾': '京成本線',
    '八千代台': '京成本線',
    '勝田台': '京成本線、東葉高速線',
    '志津': '京成本線',
    'ユーカリが丘': '京成本線',
    '京成臼井': '京成本線',
    '京成佐倉': '京成本線',
    '大佐倉': '京成本線',
    '京成酒々井': '京成本線',
    '宗吾参道': '京成本線',
    '公津の杜': '京成本線',
    '京成成田': '京成本線、京成東成田線',
    '成田空港': 'JR成田線、京成本線',
    # 京急本線の主要駅
    '品川': 'JR山手線、JR京浜東北線、JR東海道線、京急本線',
    '北品川': '京急本線',
    '新馬場': '京急本線',
    '青物横丁': '京急本線',
    '鮫洲': '京急本線',
    '立会川': '京急本線',
    '大森海岸': '京急本線',
    '平和島': '京急本線',
    '大森町': '京急本線',
    '梅屋敷': '京急本線',
    '京急蒲田': '京急本線、京急空港線',
    '雑色': '京急本線',
    '六郷土手': '京急本線',
    '京急川崎': '京急本線、京急大師線',
    '八丁畷': '京急本線、JR南武線',
    '鶴見市場': '京急本線',
    '京急鶴見': '京急本線',
    '花月総持寺': '京急本線',
    '生麦': '京急本線',
    '京急新子安': '京急本線',
    '子安': '京急本線',
    '神奈川新町': '京急本線',
    '京急東神奈川': '京急本線',
    '神奈川': '京急本線',
    '横浜': 'JR東海道線、JR横須賀線、JR京浜東北線、JR根岸線、JR横浜線、東急東横線、京急本線、相鉄本線、横浜市営地下鉄ブルーライン、みなとみらい線',
    '戸部': '京急本線',
    '日ノ出町': '京急本線',
    '黄金町': '京急本線',
    '南太田': '京急本線',
    '井土ヶ谷': '京急本線',
    '弘明寺': '京急本線',
    '上大岡': '京急本線、横浜市営地下鉄ブルーライン',
    # 東武伊勢崎線の主要駅
    '浅草': '東京メトロ銀座線、都営浅草線、東武伊勢崎線、つくばエクスプレス',
    'とうきょうスカイツリー': '東武伊勢崎線',
    '押上': '東京メトロ半蔵門線、都営浅草線、京成押上線、東武伊勢崎線',
    '曳舟': '東武伊勢崎線、東武亀戸線',
    '東向島': '東武伊勢崎線',
    '鐘ヶ淵': '東武伊勢崎線',
    '堀切': '東武伊勢崎線',
    '牛田': '東武伊勢崎線',
    '北千住': 'JR常磐線、東京メトロ千代田線、東京メトロ日比谷線、東武伊勢崎線、つくばエクスプレス',
    '小菅': '東武伊勢崎線',
    '五反野': '東武伊勢崎線',
    '梅島': '東武伊勢崎線',
    '西新井': '東武伊勢崎線、東武大師線',
    '竹ノ塚': '東武伊勢崎線',
    '谷塚': '東武伊勢崎線',
    '草加': '東武伊勢崎線',
    '獨協大学前': '東武伊勢崎線',
    '新田': '東武伊勢崎線',
    '蒲生': '東武伊勢崎線',
    '新越谷': '東武伊勢崎線、JR武蔵野線（南越谷）',
    '越谷': '東武伊勢崎線',
    '北越谷': '東武伊勢崎線',
    '大袋': '東武伊勢崎線',
    'せんげん台': '東武伊勢崎線',
    '武里': '東武伊勢崎線',
    '一ノ割': '東武伊勢崎線',
    '春日部': '東武伊勢崎線、東武野田線',
    '北春日部': '東武伊勢崎線',
    '姫宮': '東武伊勢崎線',
    '東武動物公園': '東武伊勢崎線、東武日光線',
    # つくばエクスプレスの主要駅
    '秋葉原': 'JR山手線、JR京浜東北線、JR総武線、東京メトロ日比谷線、つくばエクスプレス',
    '新御徒町': 'つくばエクスプレス、都営大江戸線',
    '浅草': '東京メトロ銀座線、都営浅草線、東武伊勢崎線、つくばエクスプレス',
    '南千住': 'JR常磐線、東京メトロ日比谷線、つくばエクスプレス',
    '北千住': 'JR常磐線、東京メトロ千代田線、東京メトロ日比谷線、東武伊勢崎線、つくばエクスプレス',
    '青井': 'つくばエクスプレス',
    '六町': 'つくばエクスプレス',
    '八潮': 'つくばエクスプレス',
    '三郷中央': 'つくばエクスプレス',
    '南流山': 'つくばエクスプレス、JR武蔵野線',
    '流山セントラルパーク': 'つくばエクスプレス',
    '流山おおたかの森': 'つくばエクスプレス、東武野田線',
    '柏の葉キャンパス': 'つくばエクスプレス',
    '柏たなか': 'つくばエクスプレス',
    '守谷': 'つくばエクスプレス、関東鉄道常総線',
    'みらい平': 'つくばエクスプレス',
    'みどりの': 'つくばエクスプレス',
    '万博記念公園': 'つくばエクスプレス',
    '研究学園': 'つくばエクスプレス',
    'つくば': 'つくばエクスプレス',
    # りんかい線の主要駅
    '新木場': 'JR京葉線、東京メトロ有楽町線、りんかい線',
    '東雲': 'りんかい線',
    '国際展示場': 'りんかい線',
    '東京テレポート': 'りんかい線',
    '天王洲アイル': 'りんかい線、東京モノレール',
    '品川シーサイド': 'りんかい線',
    '大井町': 'JR京浜東北線、東急大井町線、りんかい線',
    '大崎': 'JR山手線、JR埼京線、JR湘南新宿ライン、りんかい線',
    # ゆりかもめの主要駅
    '新橋': 'JR山手線、JR京浜東北線、JR東海道線、東京メトロ銀座線、都営浅草線',
    '汐留': '都営大江戸線、ゆりかもめ',
    '竹芝': 'ゆりかもめ',
    '日の出': 'ゆりかもめ',
    '芝浦ふ頭': 'ゆりかもめ',
    'お台場海浜公園': 'ゆりかもめ',
    '台場': 'ゆりかもめ',
    '東京国際クルーズターミナル': 'ゆりかもめ',
    'テレコムセンター': 'ゆりかもめ',
    '青海': 'ゆりかもめ',
    '東京ビッグサイト': 'ゆりかもめ',
    '有明': 'ゆりかもめ、りんかい線（国際展示場）',
    '有明テニスの森': 'ゆりかもめ',
    '市場前': 'ゆりかもめ',
    '新豊洲': 'ゆりかもめ',
    '豊洲': '東京メトロ有楽町線、ゆりかもめ',
    # 東京モノレールの主要駅
    '浜松町': 'JR山手線、JR京浜東北線、東京モノレール',
    '天王洲アイル': 'りんかい線、東京モノレール',
    '大井競馬場前': '東京モノレール',
    '流通センター': '東京モノレール',
    '昭和島': '東京モノレール',
    '整備場': '東京モノレール',
    '天空橋': '東京モノレール、京急空港線',
    '羽田空港第3ターミナル': '東京モノレール、京急空港線',
    '羽田空港第1ターミナル': '東京モノレール、京急空港線',
    '羽田空港第2ターミナル': '東京モノレール、京急空港線',
    # 日暮里・舎人ライナーの主要駅
    '日暮里': 'JR山手線、JR京浜東北線、JR常磐線、京成本線、日暮里・舎人ライナー',
    '西日暮里': 'JR山手線、JR京浜東北線、東京メトロ千代田線、日暮里・舎人ライナー',
    '赤土小学校前': '日暮里・舎人ライナー',
    '熊野前': '日暮里・舎人ライナー、都電荒川線',
    '足立小台': '日暮里・舎人ライナー',
    '扇大橋': '日暮里・舎人ライナー',
    '高野': '日暮里・舎人ライナー',
    '江北': '日暮里・舎人ライナー',
    '西新井大師西': '日暮里・舎人ライナー',
    '谷在家': '日暮里・舎人ライナー',
    '舎人公園': '日暮里・舎人ライナー',
    '舎人': '日暮里・舎人ライナー',
    '見沼代親水公園': '日暮里・舎人ライナー',
    # 都電荒川線の主要駅
    '三ノ輪橋': '都電荒川線',
    '荒川一中前': '都電荒川線',
    '荒川区役所前': '都電荒川線',
    '荒川二丁目': '都電荒川線',
    '荒川七丁目': '都電荒川線',
    '町屋駅前': '都電荒川線、東京メトロ千代田線（町屋）、京成本線（町屋）',
    '町屋二丁目': '都電荒川線',
    '東尾久三丁目': '都電荒川線',
    '熊野前': '日暮里・舎人ライナー、都電荒川線',
    '宮ノ前': '都電荒川線',
    '小台': '都電荒川線',
    '荒川遊園地前': '都電荒川線',
    '荒川車庫前': '都電荒川線',
    '梶原': '都電荒川線',
    '栄町': '都電荒川線',
    '王子駅前': '都電荒川線、JR京浜東北線（王子）、東京メトロ南北線（王子）',
    '飛鳥山': '都電荒川線',
    '滝野川一丁目': '都電荒川線',
    '西ヶ原四丁目': '都電荒川線',
    '新庚申塚': '都電荒川線',
    '庚申塚': '都電荒川線',
    '巣鴨新田': '都電荒川線',
    '大塚駅前': '都電荒川線、JR山手線（大塚）',
    '向原': '都電荒川線',
    '東池袋四丁目': '都電荒川線',
    '都電雑司ヶ谷': '都電荒川線、東京メトロ副都心線（雑司が谷）',
    '鬼子母神前': '都電荒川線',
    '学習院下': '都電荒川線',
    '面影橋': '都電荒川線',
    '早稲田': '都電荒川線、東京メトロ東西線'
}

def enhance_station_data():
    """Google Maps APIで取得した駅データに路線情報を追加"""
    
    input_csv = '/Users/mitsuimasaharu/Documents/CLI_CODE/tochijihai/tokyo-wellbeing-map/backend/app/data/tokyo_townlist_with_stations_google.csv'
    output_csv = '/Users/mitsuimasaharu/Documents/CLI_CODE/tochijihai/tokyo-wellbeing-map/backend/app/data/tokyo_townlist_with_stations_complete.csv'
    
    # 入力CSVを読み込み
    with open(input_csv, 'r', encoding='utf-8-sig') as f:
        reader = csv.DictReader(f)
        data = list(reader)
    
    print(f"総データ数: {len(data)}")
    
    # 出力データ
    output_data = []
    enhanced_count = 0
    
    for row in data:
        station_name = row.get('最寄り駅', '')
        current_lines = row.get('路線', '')
        
        # 路線情報がない場合は追加
        if station_name and not current_lines:
            if station_name in STATION_LINES:
                lines_str = STATION_LINES[station_name]
                row['路線'] = lines_str
                row['駅情報'] = f"{station_name}｜{lines_str}"
                enhanced_count += 1
            else:
                # 路線情報が見つからない場合は駅名のみ
                row['駅情報'] = station_name
        
        output_data.append(row)
    
    # CSVに保存
    with open(output_csv, 'w', encoding='utf-8-sig', newline='') as f:
        fieldnames = ['区名', '町名', '駅情報', '最寄り駅', '路線']
        writer = csv.DictWriter(f, fieldnames=fieldnames)
        writer.writeheader()
        writer.writerows(output_data)
    
    print(f"\n完了: {output_csv} に保存しました")
    print(f"路線情報を補完した駅数: {enhanced_count}")
    
    # 最終統計
    with_station = sum(1 for d in output_data if d.get('最寄り駅'))
    with_line = sum(1 for d in output_data if d.get('路線'))
    
    print(f"\n=== 最終統計 ===")
    print(f"総町数: {len(data)}")
    print(f"駅情報あり: {with_station} ({with_station/len(data)*100:.1f}%)")
    print(f"路線情報あり: {with_line} ({with_line/len(data)*100:.1f}%)")

if __name__ == "__main__":
    enhance_station_data()